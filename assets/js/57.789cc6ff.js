(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{527:function(t,a,e){"use strict";e.r(a);var n=e(25),s=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#types"}},[t._v("#")]),t._v(" Types")]),t._v(" "),e("p",[t._v("OData specifies many "),e("a",{attrs:{href:"https://docs.oasis-open.org/odata/odata-json-format/v4.01/odata-json-format-v4.01.html#sec_PrimitiveValue",target:"_blank",rel:"noopener noreferrer"}},[t._v("primitive types"),e("OutboundLink")],1),t._v("\nthat can be used in Lodata:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Meaning")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Edm.Binary")]),t._v(" "),e("td",[t._v("Binary data")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Boolean")]),t._v(" "),e("td",[t._v("Binary-valued logic")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Byte")]),t._v(" "),e("td",[t._v("Unsigned 8-bit integer")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Date")]),t._v(" "),e("td",[t._v("Date without a time-zone offset")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.DateTimeOffset")]),t._v(" "),e("td",[t._v("Date and time with a time-zone offset, no leap seconds")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Decimal")]),t._v(" "),e("td",[t._v("Numeric values with decimal representation")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Double")]),t._v(" "),e("td",[t._v("IEEE 754 binary64 floating-point number (15-17 decimal digits)")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Duration")]),t._v(" "),e("td",[t._v("Signed duration in days, hours, minutes, and (sub)seconds")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Guid")]),t._v(" "),e("td",[t._v("16-byte (128-bit) unique identifier")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Int16")]),t._v(" "),e("td",[t._v("Signed 16-bit integer")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Int32")]),t._v(" "),e("td",[t._v("Signed 32-bit integer")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Int64")]),t._v(" "),e("td",[t._v("Signed 64-bit integer")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.SByte")]),t._v(" "),e("td",[t._v("Signed 8-bit integer")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Single")]),t._v(" "),e("td",[t._v("IEEE 754 binary32 floating-point number (6-9 decimal digits)")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.Stream")]),t._v(" "),e("td",[t._v("Binary data stream")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.String")]),t._v(" "),e("td",[t._v("Sequence of characters")])]),t._v(" "),e("tr",[e("td",[t._v("Edm.TimeOfDay")]),t._v(" "),e("td",[t._v("Clock time 00:00-23:59:59.999999999999")])])])]),t._v(" "),e("p",[t._v("PHP's type system is less specific than OData. For example where PHP only has "),e("code",[t._v("int")]),t._v(", OData has "),e("code",[t._v("Edm.Byte")]),t._v(", "),e("code",[t._v("Edm.Int16")]),t._v(", "),e("code",[t._v("Edm.Int32")]),t._v(" and "),e("code",[t._v("Edm.Int64")]),t._v(".")]),t._v(" "),e("p",[t._v("Marshalling between PHP and OData types is automatic via conversion and coercion.\nLodata will force PHP data into the type specified by the developer, for example converting a 64-bit PHP "),e("code",[t._v("int")]),t._v(" to\nan OData "),e("code",[t._v("Edm.Int16")]),t._v(" may cause truncation or overflow. When a client receives the property it will be of the expected type. In general,\nit's best to use "),e("code",[t._v("Edm.Int64")]),t._v(" for PHP values and for backend services like databases the matching EDM type for the property can be specified in\nthe entity type.")]),t._v(" "),e("p",[t._v("PHP supports higher precision floating point values than JSON, so Lodata implements\n"),e("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc7493#section-2.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("IEEE754 compatibility"),e("OutboundLink")],1),t._v(" in OData by returning\n"),e("code",[t._v("Edm.Double")]),t._v(" (and similar) types as strings if requested to do so by the client in the "),e("code",[t._v("Accept")]),t._v(" header.")]),t._v(" "),e("p",[t._v("Lodata implements "),e("code",[t._v("Edm.Date")]),t._v(", "),e("code",[t._v("Edm.DateTimeOffset")]),t._v(" and "),e("code",[t._v("Edm.TimeOfDay")]),t._v(" using immutable "),e("a",{attrs:{href:"https://carbon.nesbot.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Carbon"),e("OutboundLink")],1),t._v("\nobjects, and retrieving the value of (eg) a "),e("code",[t._v("\\Flat3\\Lodata\\Type\\DateTimeOffset")]),t._v(" using its "),e("code",[t._v("get()")]),t._v(" method will return a "),e("code",[t._v("Carbon\\CarbonImmutable")]),t._v(".")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("Edm.Duration")]),t._v(" type is stored internally as a number of seconds in a PHP float.")]),t._v(" "),e("p",[t._v("Lodata supports "),e("a",{attrs:{href:"./collections"}},[t._v("Collection")]),t._v(" and "),e("a",{attrs:{href:"./enumerations"}},[t._v("Enumeration")]),t._v(" types.")]),t._v(" "),e("p",[t._v("Lodata includes type extensions to support unsigned integer types "),e("code",[t._v("UInt16")]),t._v(", "),e("code",[t._v("UInt32")]),t._v(" and "),e("code",[t._v("UInt64")]),t._v(" which are\nextensions of the underlying canonical types "),e("code",[t._v("Edm.Int16")]),t._v(", "),e("code",[t._v("Edm.Int32")]),t._v(" and "),e("code",[t._v("Edm.Int64")]),t._v(".")]),t._v(" "),e("p",[t._v("These type definitions are not in the default model as not all OData clients interpret them correctly.\nIf the application developer adds them they will be used during automatic entity type property detection.")]),t._v(" "),e("p",[t._v("To add one or more of these types, use "),e("code",[t._v("Lodata::add()")]),t._v(" to add a new "),e("code",[t._v("PrimitiveType")]),t._v(" passing in the class type name:")]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[t._v("LodataServiceProvider")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServiceProvider")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("boot")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Lodata")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Flat3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Lodata"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PrimitiveType")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Flat3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Lodata"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UInt16")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("p",[t._v("Lodata supports changing a property's type after definition or discovery using a call such as:")]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[t._v("LodataServiceProvider")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServiceProvider")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("boot")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Lodata")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEntityType")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Flight'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProperty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'duration'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setType")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified static-context"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Flat3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Lodata"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Type")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("uint32")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])])])}),[],!1,null,null,null);a.default=s.exports}}]);